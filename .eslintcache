[{"D:\\jc14\\FinalProject\\src\\pages\\login\\login.jsx":"1","D:\\jc14\\FinalProject\\src\\pages\\userhistory.jsx":"2","D:\\jc14\\FinalProject\\src\\pages\\cart\\index.jsx":"3","D:\\jc14\\FinalProject\\src\\pages\\admin\\admintransaction.jsx":"4","D:\\jc14\\FinalProject\\src\\reportWebVitals.js":"5","D:\\jc14\\FinalProject\\src\\pages\\notfound.jsx":"6","D:\\jc14\\FinalProject\\src\\pages\\Product.jsx":"7","D:\\jc14\\FinalProject\\src\\pages\\admin\\admininventory.jsx":"8","D:\\jc14\\FinalProject\\src\\redux\\actions\\index.js":"9","D:\\jc14\\FinalProject\\src\\pages\\login\\loginStyles.js":"10","D:\\jc14\\FinalProject\\src\\components\\homecomponent\\Cards.jsx":"11","D:\\jc14\\FinalProject\\src\\components\\homecomponent\\CardItem.jsx":"12","D:\\jc14\\FinalProject\\src\\pages\\admin\\adminproduct.jsx":"13","D:\\jc14\\FinalProject\\src\\pages\\productdetails.jsx":"14"},{"size":5445,"mtime":1607939595503,"results":"15","hashOfConfig":"16"},{"size":6938,"mtime":1607939595535,"results":"17","hashOfConfig":"16"},{"size":9863,"mtime":1607969978747,"results":"18","hashOfConfig":"16"},{"size":4885,"mtime":1607964792827,"results":"19","hashOfConfig":"16"},{"size":375,"mtime":1606534015074,"results":"20","hashOfConfig":"16"},{"size":267,"mtime":1607262392730,"results":"21","hashOfConfig":"16"},{"size":4019,"mtime":1607939595501,"results":"22","hashOfConfig":"16"},{"size":8184,"mtime":1607783342586,"results":"23","hashOfConfig":"16"},{"size":28,"mtime":1606916397012,"results":"24","hashOfConfig":"16"},{"size":3994,"mtime":1607783126162,"results":"25","hashOfConfig":"16"},{"size":1637,"mtime":1607783126136,"results":"26","hashOfConfig":"16"},{"size":667,"mtime":1607783126132,"results":"27","hashOfConfig":"16"},{"size":16834,"mtime":1607960658400,"results":"28","hashOfConfig":"16"},{"size":3446,"mtime":1607960756551,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1f3co4a",{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"45","messages":"46","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"55","messages":"56","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"57","messages":"58","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\jc14\\FinalProject\\src\\pages\\login\\login.jsx",[],"D:\\jc14\\FinalProject\\src\\pages\\userhistory.jsx",[],"D:\\jc14\\FinalProject\\src\\pages\\cart\\index.jsx",["59","60","61","62","63","64"],"import React, { Component, createRef } from 'react';\r\nimport Navbar from '../../components/homecomponent/Navbar'\r\nimport { connect } from 'react-redux'\r\nimport Axios from 'axios'\r\nimport { API_URLbe, priceFormatter,credit } from '../../helper/idformat';\r\nimport Notfound from '../notfound'\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableFooter from '@material-ui/core/TableFooter';\r\nimport { Button } from \"../../components/homecomponent/Button\";\r\n// import {Modal,ModalHeader,ModalBody,ModalFooter,CustomInput} from 'reactstrap'\r\nimport {AddcartAction} from '../../redux/actions'\r\nimport { Zoom } from 'react-reveal/Zoom'\r\nimport Modal from '@material-ui/core/Modal';\r\nimport { makeStyles,withStyles } from '@material-ui/core/styles';\r\nimport Swal from 'sweetalert2'\r\n\r\nconst useStyles = theme =>({\r\n    root: {\r\n      width: '100%',\r\n    },\r\n    container: {\r\n      maxHeight: 440,\r\n    },\r\n    paper: {\r\n      position: 'absolute',\r\n      width: 400,\r\n      backgroundColor: 'white',\r\n      border: '2px solid #000',\r\n      padding: 10,\r\n      height :300,\r\n      marginTop:100,\r\n      marginLeft:'30%'\r\n    }\r\n  });\r\n\r\n\r\nclass Cart extends Component {\r\n    \r\n\r\nstate = {\r\n    cart:[],\r\n    isOpen:false,\r\n    pilihan:0,\r\n    bukti:createRef(),\r\n    cc:createRef(),\r\n    idtrans:0,\r\n    buktitrans:null,\r\n    isClose:false\r\n\r\n}\r\ncomponentDidMount(){\r\n    // Axios.get(`${API_URL}/carts?userId=${this.props.id}&_expand=product`)\r\n    console.log(this.props.id)\r\n    Axios.get(`${API_URLbe}/trans/getcart`,{\r\n        params:{\r\n            userid:this.props.id,\r\n        }\r\n    })\r\n    .then((res)=>{\r\n        console.log(res.data)\r\n        this.setState({cart:res.data,idtrans:res.data[0].idtrans})\r\n    }).catch((err)=>{\r\n        console.log(err)\r\n    })\r\n}\r\n\r\noninputfilechange=(e)=>{\r\n    if(e.target.files[0]){\r\n        this.setState({buktitrans:e.target.files[0]})\r\n    }else{\r\n        // console.log('hapus')\r\n        this.setState({buktitrans:null})\r\n    }\r\n    }\r\n\r\nrenderTotalprice=()=>{\r\n    var total=this.state.cart.reduce((total,num)=>{\r\n        return total+(num.price*num.qty)\r\n    },0)\r\n    console.log(total)\r\n    return total\r\n}\r\n\r\nrenderCart=()=>{\r\n    return this.state.cart.map((val,index)=>{\r\n        console.log(this.state.cart)\r\n        return(\r\n            <TableRow key={index}>\r\n                <TableCell>{index+1}</TableCell>\r\n                <TableCell>{val.nama}</TableCell>\r\n                <TableCell>\r\n                    <div style={{maxWidth:'200px'}}>\r\n                        <img width='100%' height='100%' src={API_URLbe+val.banner} alt={val.nama}/>\r\n                    </div>\r\n                </TableCell>\r\n                <TableCell>{val.qty}</TableCell>\r\n                <TableCell>{priceFormatter(val.price)}</TableCell>\r\n                <TableCell>{priceFormatter(val.price*val.qty)}</TableCell>\r\n            </TableRow>\r\n        )\r\n    })\r\n}\r\n\r\n// transaction itu ada id,status,userId,tanggalpembayaran,metode,buktipembayaran,\r\n// transactionDetails id,transactionId,productId,price,qty\r\nonBayarClick=()=>{\r\n    const {pilihan} =this.state\r\n    if(pilihan==='1'){\r\n        this.onbayarpakebukti()\r\n    }else if(pilihan==='2'){\r\n        if(credit(parseInt(this.state.cc.current.value))){\r\n            this.onbayarpakeCC()\r\n        } else {\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'Oops...',\r\n                text: 'Not a credit card number!',\r\n                })\r\n        }\r\n    } else {\r\n        Swal.fire(\r\n            'Metode Pembayaran?',\r\n            'Dont forget to choose your payment method!',\r\n            'question'\r\n            )\r\n    }\r\n}\r\nonbayarpakeCC=()=>{\r\n    Axios.post(`${API_URLbe}/trans/bayarcc`,{\r\n        idtrans:this.state.idtrans,\r\n        nomercc:this.state.cc.current.value,\r\n        datacart:this.state.cart\r\n    },{\r\n        headers:{\r\n            'Authorization':`Bearer ${this.props.token}`\r\n        }\r\n    }).then((res)=>{\r\n        Axios.post(`${API_URLbe}/trans/inventDec`,{\r\n            datacart:this.state.cart                                                                                    \r\n        })\r\n        console.log(res.data,'a')\r\n        if(res.data === 'berhasil'){\r\n            this.props.AddcartAction([])\r\n            this.setState({cart:[],isOpen:false})\r\n            Swal.fire({\r\n                position: 'top-center',\r\n                icon: 'success',\r\n                title: 'Thank you for trust your Drugstore!',\r\n                showConfirmButton: false,\r\n                timer: 1500\r\n            })\r\n        }\r\n    }).catch(err=>{\r\n        console.log(err)\r\n    })\r\n   \r\n}\r\nonbayarpakebukti=()=>{\r\n    var formData=new FormData()\r\n    var options={\r\n        headers:{\r\n            'Content-type':'multipart/form-data',\r\n            'Authorization':`Bearer ${this.props.token}`\r\n        },\r\n        params:{\r\n            userid:this.props.id\r\n        }\r\n    }\r\n    formData.append('bukti',this.state.buktitrans)\r\n    formData.append('data',JSON.stringify({idtrans:this.state.idtrans}))\r\n    Axios.post(`${API_URLbe}/trans/bayarbukti`,formData,options)\r\n    .then((res)=>{\r\n        Axios.post(`${API_URLbe}/trans/inventDec`,{\r\n            datacart:this.state.cart                                                                                    \r\n        })\r\n        if(res.data === 'berhasil'){\r\n            this.props.AddcartAction([])\r\n            this.setState({cart:[],isOpen:false,buktitrans:null})\r\n        }\r\n    }).catch((err)=>{\r\n        console.log(err)\r\n    })\r\n}\r\nonCheckOutClick=()=>{\r\n    this.setState({isOpen:true})\r\n}\r\nonCheckClick=()=>{\r\n    this.setState({isOpen:false})\r\n}\r\nbody=()=>{\r\n    const{classes}=this.props\r\n    return(\r\n\r\n    <div className={classes.paper}>\r\n        Pembayaran\r\n        <div>\r\n            <select onChange={(e)=>this.setState({pilihan:e.target.value})} className='form-control' defaultValue={0} >\r\n                      <option value=\"0\" hidden>Select payment</option>\r\n                      <option value=\"1\">input bukti transfer</option>\r\n                      <option value=\"2\">Credit card</option>\r\n            </select>\r\n                     {\r\n                          this.state.pilihan==2?\r\n                          <input className='form-control' ref={this.state.cc} placeholder='masukkan cc'/>\r\n                          :\r\n                         this.state.pilihan==1?\r\n                         <input className='form-control' onChange={this.oninputfilechange} type='file'   label={this.state.buktitrans?this.state.buktitrans.name:'Select bukti'}/>\r\n                         :\r\n                         null\r\n                    }\r\n             <div>\r\n                Total price  {priceFormatter(this.renderTotalprice())}\r\n            </div>\r\n            <div>\r\n            <Button className=\"nav-links-mobile\" onClick={this.onBayarClick}>\r\n                            Bayar\r\n            </Button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n    \r\n\r\n\r\nrender() {\r\n    const {classes}=this.props;\r\n    if(this.props.role==='user') {\r\n        return (\r\n            <div>\r\n                <Modal\r\n                 open={this.state.isOpen}\r\n                 onClose={this.onCheckClick}\r\n                 aria-labelledby=\"simple-modal-title\"\r\n                 aria-describedby=\"simple-modal-description\"\r\n                >\r\n                    \r\n                    {this.body()}\r\n                    \r\n                </Modal>\r\n                <div className=' pt-3 martgintop' style={{paddingLeft:'10%',paddingRight:'10%', marginTop:50}}>\r\n                    <Paper >\r\n                        <TableContainer >\r\n                            <Table stickyHeader>\r\n                                <TableHead>\r\n                                    <TableRow>\r\n                                        <TableCell>No.</TableCell>\r\n                                        <TableCell style={{width:'200px'}}>Nama Obat</TableCell>\r\n                                        <TableCell style={{width:'200px'}}>Gambar</TableCell>\r\n                                        <TableCell>Jumlah</TableCell>\r\n                                        <TableCell>price</TableCell>\r\n                                        <TableCell>subtotal price</TableCell>\r\n                                    </TableRow>\r\n                                </TableHead>\r\n                                <TableBody>\r\n                                    {this.renderCart()}\r\n                                </TableBody>\r\n                                <TableFooter>\r\n                                    <TableCell colSpan={4}></TableCell>\r\n                                    <TableCell style={{fontWeight:'700',color:'black',fontSize:20}}>Subtotal price</TableCell>\r\n                                    <TableCell style={{color:'black',fontSize:20}}>{priceFormatter(this.renderTotalprice())}</TableCell>\r\n                                </TableFooter>\r\n                            </Table>\r\n                        </TableContainer>\r\n                        <Button buttonStyle='btn--background' buttonSize='btn--medium' onClick={this.onCheckOutClick}>\r\n                            CheckOut\r\n                        </Button>\r\n                    </Paper>\r\n                </div>\r\n            </div>\r\n        );\r\n    }else{\r\n        return(\r\n            <Notfound/>\r\n        )\r\n    }\r\n}\r\n}\r\nconst MapstatetoProps=({Auth})=>{\r\nreturn {\r\n    ...Auth\r\n}\r\n}\r\nexport default connect(MapstatetoProps,{AddcartAction})(withStyles(useStyles)(Cart));\r\n","D:\\jc14\\FinalProject\\src\\pages\\admin\\admintransaction.jsx",["65"],"D:\\jc14\\FinalProject\\src\\reportWebVitals.js",[],"D:\\jc14\\FinalProject\\src\\pages\\notfound.jsx",[],"D:\\jc14\\FinalProject\\src\\pages\\Product.jsx",["66"],"D:\\jc14\\FinalProject\\src\\pages\\admin\\admininventory.jsx",["67","68","69","70","71","72","73","74"],"D:\\jc14\\FinalProject\\src\\redux\\actions\\index.js",[],"D:\\jc14\\FinalProject\\src\\pages\\login\\loginStyles.js",[],"D:\\jc14\\FinalProject\\src\\components\\homecomponent\\Cards.jsx",[],"D:\\jc14\\FinalProject\\src\\components\\homecomponent\\CardItem.jsx",["75"],"D:\\jc14\\FinalProject\\src\\pages\\admin\\adminproduct.jsx",["76","77","78","79","80","81","82","83","84","85","86"],"D:\\jc14\\FinalProject\\src\\pages\\productdetails.jsx",["87","88"],{"ruleId":"89","severity":1,"message":"90","line":2,"column":8,"nodeType":"91","messageId":"92","endLine":2,"endColumn":14},{"ruleId":"89","severity":1,"message":"93","line":18,"column":10,"nodeType":"91","messageId":"92","endLine":18,"endColumn":14},{"ruleId":"89","severity":1,"message":"94","line":20,"column":10,"nodeType":"91","messageId":"92","endLine":20,"endColumn":20},{"ruleId":"95","severity":1,"message":"96","line":209,"column":45,"nodeType":"97","messageId":"98","endLine":209,"endColumn":47},{"ruleId":"95","severity":1,"message":"96","line":212,"column":44,"nodeType":"97","messageId":"98","endLine":212,"endColumn":46},{"ruleId":"89","severity":1,"message":"99","line":233,"column":12,"nodeType":"91","messageId":"92","endLine":233,"endColumn":19},{"ruleId":"89","severity":1,"message":"100","line":12,"column":10,"nodeType":"91","messageId":"92","endLine":12,"endColumn":17},{"ruleId":"101","severity":1,"message":"102","line":46,"column":15,"nodeType":"103","endLine":46,"endColumn":98},{"ruleId":"89","severity":1,"message":"104","line":11,"column":9,"nodeType":"91","messageId":"92","endLine":11,"endColumn":15},{"ruleId":"89","severity":1,"message":"105","line":11,"column":16,"nodeType":"91","messageId":"92","endLine":11,"endColumn":28},{"ruleId":"89","severity":1,"message":"106","line":12,"column":9,"nodeType":"91","messageId":"92","endLine":12,"endColumn":25},{"ruleId":"89","severity":1,"message":"107","line":13,"column":9,"nodeType":"91","messageId":"92","endLine":13,"endColumn":23},{"ruleId":"89","severity":1,"message":"100","line":13,"column":25,"nodeType":"91","messageId":"92","endLine":13,"endColumn":32},{"ruleId":"89","severity":1,"message":"108","line":16,"column":9,"nodeType":"91","messageId":"92","endLine":16,"endColumn":16},{"ruleId":"109","severity":1,"message":"110","line":167,"column":33,"nodeType":"111","messageId":"112","endLine":167,"endColumn":35},{"ruleId":"89","severity":1,"message":"113","line":208,"column":13,"nodeType":"91","messageId":"92","endLine":208,"endColumn":19},{"ruleId":"114","severity":1,"message":"115","line":10,"column":13,"nodeType":"103","endLine":14,"endColumn":15},{"ruleId":"89","severity":1,"message":"105","line":12,"column":16,"nodeType":"91","messageId":"92","endLine":12,"endColumn":28},{"ruleId":"89","severity":1,"message":"100","line":13,"column":25,"nodeType":"91","messageId":"92","endLine":13,"endColumn":32},{"ruleId":"89","severity":1,"message":"116","line":19,"column":8,"nodeType":"91","messageId":"92","endLine":19,"endColumn":16},{"ruleId":"89","severity":1,"message":"117","line":41,"column":10,"nodeType":"91","messageId":"92","endLine":41,"endColumn":15},{"ruleId":"89","severity":1,"message":"118","line":41,"column":17,"nodeType":"91","messageId":"92","endLine":41,"endColumn":25},{"ruleId":"89","severity":1,"message":"119","line":44,"column":26,"nodeType":"91","messageId":"92","endLine":44,"endColumn":44},{"ruleId":"89","severity":1,"message":"120","line":66,"column":10,"nodeType":"91","messageId":"92","endLine":66,"endColumn":19},{"ruleId":"89","severity":1,"message":"121","line":66,"column":20,"nodeType":"91","messageId":"92","endLine":66,"endColumn":32},{"ruleId":"89","severity":1,"message":"122","line":70,"column":10,"nodeType":"91","messageId":"92","endLine":70,"endColumn":20},{"ruleId":"89","severity":1,"message":"123","line":81,"column":21,"nodeType":"91","messageId":"92","endLine":81,"endColumn":34},{"ruleId":"109","severity":1,"message":"110","line":360,"column":36,"nodeType":"111","messageId":"112","endLine":360,"endColumn":38},{"ruleId":"124","severity":1,"message":"125","line":20,"column":3,"nodeType":"126","endLine":20,"endColumn":5,"suggestions":"127"},{"ruleId":"101","severity":1,"message":"102","line":79,"column":25,"nodeType":"103","endLine":79,"endColumn":107},"no-unused-vars","'Navbar' is defined but never used.","Identifier","unusedVar","'Zoom' is defined but never used.","'makeStyles' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'classes' is assigned a value but never used.","'API_URL' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'BiEdit' is defined but never used.","'BiPlusCircle' is defined but never used.","'AiFillInfoCircle' is defined but never used.","'priceFormatter' is defined but never used.","'connect' is defined but never used.","array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","'toggle' is assigned a value but never used.","jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You don’t need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","'Notfound' is defined but never used.","'modal' is assigned a value but never used.","'setModal' is assigned a value but never used.","'setidproductselect' is assigned a value but never used.","'modalfoto' is assigned a value but never used.","'setmodalfoto' is assigned a value but never used.","'prodmodal1' is assigned a value but never used.","'setaddformkim' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props.match.params.id'. Either include it or remove the dependency array.","ArrayExpression",["128"],{"desc":"129","fix":"130"},"Update the dependencies array to be: [props.match.params.id]",{"range":"131","text":"132"},[585,587],"[props.match.params.id]"]